<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vancouver Sun - FAQs</title>

    <meta name="chat-context-publication" content="Vancouver Sun">
    <meta name="chat-context-page" content="FAQs">

    <style>
        /* --- GLOBAL STYLES (Newspaper Look) --- */
        body { margin: 0; font-family: 'Times New Roman', serif; background-color: #e8e8e8; color: #1a1a1a; }
        
        /* HEADER */
        header { background: linear-gradient(to bottom, #003d7a, #0052a3); color: #fff; padding: 20px 0; border-bottom: 5px solid #ffa500; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 25px; }
        .header-top { display: flex; justify-content: space-between; align-items: center; padding-bottom: 12px; border-bottom: 2px solid rgba(255,255,255,0.2); }
        .logo { font-size: 36px; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .tagline { font-size: 11px; font-style: italic; color: #ffa500; margin-top: 5px; }
        
        /* NAVIGATION */
        nav { padding-top: 12px; }
        nav a { color: #fff; text-decoration: none; margin-right: 30px; font-family: 'Arial', sans-serif; font-size: 15px; font-weight: 600; text-transform: uppercase; transition: color 0.3s ease; }
        nav a:hover { color: #ffa500; }

        /* CONTENT LAYOUT */
        .main-content { background: #fff; margin-top: 25px; padding: 50px; box-shadow: 0 3px 15px rgba(0,0,0,0.1); min-height: 500px; border-left: 3px solid #0052a3; }
        h1 { font-size: 38px; margin-bottom: 12px; color: #003d7a; font-weight: bold; line-height: 1.2; }
        h3 { font-size: 22px; color: #003d7a; margin-top: 35px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 2px solid #ffa500; }
        p { line-height: 1.8; font-size: 17px; margin-bottom: 22px; color: #2a2a2a; }

        /* FOOTER */
        footer { background: linear-gradient(to top, #001f3f, #003d7a); color: #aaa; padding: 45px 0; margin-top: 50px; text-align: center; font-family: 'Arial', sans-serif; font-size: 13px; }

        /* --- CHAT BUTTON STYLES --- */
        #endChatButton {
            display: none;
            position: fixed; bottom: 35px; right: 30px; z-index: 999999;
            padding: 10px 20px; background-color: #d9534f; color: white;
            border: none; border-radius: 5px; cursor: pointer; font-family: 'Arial', sans-serif; font-weight: bold;
            box-shadow: 0 3px 8px rgba(0,0,0,0.3);
        }
        #endChatButton:hover { background-color: #c9302c; }
        #endChatButton:disabled { background-color: #ccc; cursor: not-allowed; }
    </style>

    <script>
        !function (o, i, s, c) { var a, p, h, u = [], l = []; function e() { var t = "You must provide a supported major version."; try { if (!c) throw new Error(t); var e, n = "https://sdk.cxengage.net/webchat/2.2.3/", r = "serenovawebchat"; if ((e = "string" == typeof this.response ? JSON.parse(this.response) : this.response).url) { var o = i.getElementsByTagName("script")[0], s = i.createElement("script"); s.async = !0; var a = c.match(/([0-9]+)\.?([0-9]+)?\.?([0-9]+)?/), p = a && a[1]; if (a && a[3]) s.src = n + r + "." + c + ".min.js"; else { if (!(1 <= p && e["v" + p])) throw new Error(t); s.src = e["v" + p] } o.parentNode.insertBefore(s, o) } } catch (e) { e.message === t && console.error(e) } } o[s] = { init: function () { a = arguments; var t = { then: function (e) { return l.push({ type: "t", next: e }), t }, catch: function (e) { return l.push({ type: "c", next: e }), t } }; return t }, on: function () { u.push(arguments) }, render: function () { p = arguments }, destroy: function () { h = arguments } }, o.__onWebMessengerHostReady__ = function (e) { if (delete o.__onWebMessengerHostReady__, o[s] = e, a) for (var t = e.init.apply(e, a), n = 0; n < l.length; n++) { var r = l[n]; t = "t" === r.type ? t.then(r.next) : t.catch(r.next) } p && e.render.apply(e, p), h && e.destroy.apply(e, h); for (n = 0; n < u.length; n++)e.on.apply(e, u[n]) }; var t = new XMLHttpRequest; t.addEventListener("load", e), t.open("GET", "https://sdk.cxengage.net/webchat/2.2.3/loader.json", !0), t.responseType = "json", t.send() }(window, document, "SerenovaWebChat", "2");
    </script>
</head>
<body>

    <header>
        <div class="container">
            <div class="header-top">
                <div>
                    <div class="logo">Vancouver Sun</div>
                    <div class="tagline">The Voice of British Columbia Since 1912</div>
                </div>
            </div>
            <nav>
                <a href="vancouver-sun-index.html">Home</a>
                <a href="vancouver-sun-faqs.html">FAQs</a>
                <a href="vancouver-sun-subscription.html">Subscription</a>
            </nav>
        </div>
    </header>

    <div class="container main-content">
        <h1>Frequently Asked Questions</h1>
        
        <h3>How do I manage my digital subscription?</h3>
        <p>You can manage your Vancouver Sun digital subscription by logging into your account at vancouversun.com and visiting the 'My Account' section. From there, you can update payment information, change your delivery preferences, or modify your subscription plan. For assistance, contact our customer service team at 1-800-663-2662.</p>

        <h3>What should I do if I didn't receive my newspaper?</h3>
        <p>If your Vancouver Sun newspaper was not delivered by 6:00 AM on weekdays or 7:00 AM on weekends, please report the missing delivery through our automated phone system at 604-605-2000 or via the customer service portal on our website. We'll ensure a replacement is delivered or your account is credited.</p>

        <h3>How can I access the Vancouver Sun e-Edition?</h3>
        <p>Digital subscribers have full access to the Vancouver Sun e-Edition, a digital replica of the print newspaper. Simply log in to your account at vancouversun.com and click on the 'e-Edition' link in the top navigation. The e-Edition is available daily by 5:00 AM and can be viewed on any device.</p>

        <h3>How do I submit a Letter to the Editor?</h3>
        <p>We welcome letters from our readers. Letters should be 200 words or less and must include your full name, address, and daytime phone number for verification purposes. Please email your letter to sunletters@vancouversun.com. We reserve the right to edit letters for length and clarity.</p>

        <h3>Can I purchase individual articles without a subscription?</h3>
        <p>Yes, you can purchase individual premium articles for $1.99 each without a subscription. However, we recommend considering our digital subscription plans, which provide unlimited access to all Vancouver Sun content, starting at just $9.99 per month.</p>

        <h3>How do I report a news tip?</h3>
        <p>If you have a news tip or story idea, please contact our newsroom at 604-605-2323 or email tips@vancouversun.com. For urgent breaking news, you can also reach us via our 24-hour news hotline. All tips are treated confidentially.</p>
    </div>

    <footer>
        <div class="container">
            &copy; 2026 Postmedia Network Inc. All rights reserved.<br>
            Unauthorized distribution, transmission or republication strictly prohibited.
        </div>
    </footer>

    <button id="endChatButton">End Chat</button>

    <script>
        // Global Configuration
        const CHAT_CONFIG = {
            integrationId: '682cbb0e8f1d8c17ee921eef',
            storageType: 'sessionStorage'
        };

        let activeConversationId = null;
        const endChatBtn = document.getElementById('endChatButton');

        /**
         * 1. GET CONTEXT
         * Reads the <meta> tags from the <head> of the current HTML file.
         */
        function getPageContext() {
            const pubMeta = document.querySelector('meta[name="chat-context-publication"]');
            const pageMeta = document.querySelector('meta[name="chat-context-page"]');

            return {
                publication: pubMeta ? pubMeta.content : 'Unknown Publication',
                pageSource: pageMeta ? pageMeta.content : 'Unknown Page',
                url: window.location.href
            };
        }

        /**
         * 2. INIT CHAT
         * Initializes the SDK and sends the specific page data.
         */
        function initChatWidget() {
            if (typeof SerenovaWebChat === 'undefined') {
                setTimeout(initChatWidget, 100);
                return;
            }

            const options = {
                integrationId: CHAT_CONFIG.integrationId,
                canUserSeeConversationList: true,
                browserStorage: CHAT_CONFIG.storageType,
                customText: {
                    headerText: "How can I help?",
                    prechatCaptureGreetingText: `Hi! I'm Postmedia's virtual assistant.`,
                    prechatCaptureConfirmationText: `Thank you. How can I help you today?`,
                    notificationSettingsConnected: "",
                },

                prechatCapture: {
                    fields: [
                        {
                            type: 'text',
                            name: 'email',
                            label: 'To get started, please provide your email address:',
                            placeholder: 'your email',
                        },
                    ],
                },
                delegate: {
                    beforeDisplay: (message) => {
                        if (message?.metadata?.conversationId) {
                            activeConversationId = message.metadata.conversationId;
                        }
                        return message;
                    }
                }
            };

            SerenovaWebChat.init(options).then(() => {
                console.log("SDK Initialized successfully.");

                const context = getPageContext();
                console.log(`[Chat Context] Sending: ${context.pageSource} (${context.publication})`);

                SerenovaWebChat.updateUser({
                    properties: {
                        publication: context.publication,
                        pageSource: context.pageSource,
                        sourceUrl: context.url
                    }
                }).catch(err => console.error("Failed to update user properties:", err));

                // Inject CSS to prevent iOS zoom on input focus
                let zoomFix = document.createElement('style');
                zoomFix.innerHTML = `@supports (-webkit-touch-callout: none) { textarea, input { font-size: 16px !important; } }`;

                document.getElementById('web-messenger-container').appendChild(zoomFix);

                // Show the "End Chat" button when the widget is open and hide it when closed
                SerenovaWebChat.on('widget:opened', () => endChatBtn.style.display = 'block');
                SerenovaWebChat.on('widget:closed', () => endChatBtn.style.display = 'none');
            });
        }

        /**
         * 3. END CHAT FUNCTIONALITY
         * Gracefully disconnects and resets the session.
         */
        function handleEndChat() {
            endChatBtn.innerText = "Ending...";
            endChatBtn.disabled = true;

            const performReset = () => {
                SerenovaWebChat.destroy();
                sessionStorage.clear();
                activeConversationId = null;
                endChatBtn.style.display = 'none';
                endChatBtn.innerText = "End Chat";
                endChatBtn.disabled = false;
                
                setTimeout(initChatWidget, 1000);
            };

            if (activeConversationId) {
                SerenovaWebChat.sendMessage({
                    type: 'text',
                    text: 'disconnect-conversation',
                    metadata: { type: 'disconnect-conversation' }
                }, activeConversationId)
                .then(() => setTimeout(performReset, 500))
                .catch(() => performReset());
            } else {
                performReset();
            }
        }

        document.addEventListener('DOMContentLoaded', initChatWidget);
        endChatBtn.addEventListener('click', handleEndChat);

    </script>
</body>
</html>
